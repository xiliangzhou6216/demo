
# 语句

## if语句

这里的condition可以是任何表达式，并且求值结果不一定是布尔值。
会自动调用`Boolean()`函数将表达式的值转换成布尔值

```js
if (condition){
 // statement1 执行语句
}else{
 // statement2 执行语句
} 
```

## switch语句

condition 的值可以是**常量**或者**变量**或者**表达式**

expr 可以是任意数据类型

```js

switch (expr) {
  case condition:
    console.log('232323233')
    break
  default:
    console.log(2)
    break
}

```
## for

性能比较 for>forEach>map 

- forEach 需要处理参数 函数上下文
- map  返回一个数组 需要分配内存 创建







# async-await 循环数组的坑

## forEach

forEach不会在乎`callback函数`是不是`async函数`，也不会等到Promise被执行
```js

const urls = [
  'https://jsonplaceholder.typicode.com/todos/1',
  'https://jsonplaceholder.typicode.com/todos/2',
  'https://jsonplaceholder.typicode.com/todos/3'
];

async function getTodos() {
  await urls.forEach(async (url, idx) => { 
    const todo = await fetch(url);
    console.log(`Received Todo ${idx+1}:`, todo);
  });
  
  console.log('Finished!');
}

getTodos();

// 输出
Finished!
Received Todo 2, Response: { ··· }
Received Todo 1, Response: { ··· }
Received Todo 3, Response: { ··· }

```
## Promise.all 方法


并行发送所有的请求，然后等待所有结果出来
```js
const urls = [
  'https://jsonplaceholder.typicode.com/todos/1',
  'https://jsonplaceholder.typicode.com/todos/2',
  'https://jsonplaceholder.typicode.com/todos/3'
];

async function getTodos() {
  const promises = urls.map(async (url, idx) => 
    console.log(`Received Todo ${idx+1}:`, await fetch(url))
  );

  await Promise.all(promises);

  console.log('Finished!');
}

getTodos();

Received Todo 1, Response: { ··· }
Received Todo 2, Response: { ··· }
Received Todo 3, Response: { ··· }
Finished!
```

## for-of 循环

`for-of` 循环则能够按照预期顺序执行——等待上一个 await 执行完毕后，再接着下一个  

```js
const urls = [
  'https://jsonplaceholder.typicode.com/todos/1',
  'https://jsonplaceholder.typicode.com/todos/2',
  'https://jsonplaceholder.typicode.com/todos/3'
];

async function getTodos() {
  for (const [idx, url] of urls.entries()) {
    const todo = await fetch(url);
    console.log(`Received Todo ${idx+1}:`, todo);
  }

  console.log('Finished!');
}

getTodos();

Received Todo 1, Response: { ··· }
Received Todo 2, Response: { ··· }
Received Todo 3, Response: { ··· }
Finished!
```
***for/for-in/for-of***再自己加上 ***async/await***

```js
for(let i = 0; i < urls.length; i += 1) {
    const res = await addSuffix(urls[i]);
    console.log(res);
}
for (let i in urls) {
    const res = await fetch(urls[i]);
    console.log(res);
}
for (let url of urls) {
    const res = await fetch(url);
    console.log(res);
}
```

**性能比较**

for>for of > for in 

- for 循环比较稳定 key是number
- for in  遍历实例所有可枚举属性(包含继承属性) key转换成`string`

## 空语句
;


